{"version":3,"sources":["../../src/utils/browserslist.js"],"names":["path","require","browserslist","installedGatsbyVersion","directory","version","join","parseInt","split","e","undefined","module","exports","getBrowsersList","fallback","config","findConfig","defaults"],"mappings":";;AAAA,MAAMA,IAAI,GAAGC,OAAO,CAAE,MAAF,CAApB;;AACA,MAAMC,YAAY,GAAGD,OAAO,CAAE,mBAAF,CAA5B;;AAEA,SAASE,sBAAT,CAAgCC,SAAhC,EAA2C;AACzC,MAAI;AACF,UAAM;AAAEC,MAAAA;AAAF,QAAcJ,OAAO,CAACD,IAAI,CAACM,IAAL,CAC1BF,SAD0B,EAEzB,cAFyB,EAGzB,QAHyB,EAIzB,cAJyB,CAAD,CAA3B;;AAMA,WAAOG,QAAQ,CAACF,OAAO,CAACG,KAAR,CAAe,GAAf,EAAmB,CAAnB,CAAD,EAAwB,EAAxB,CAAf;AACD,GARD,CAQE,OAAOC,CAAP,EAAU;AACV,WAAOC,SAAP;AACD;AACF;;AAEDC,MAAM,CAACC,OAAP,GAAiB,SAASC,eAAT,CAAyBT,SAAzB,EAAoC;AACnD,QAAMU,QAAQ,GACZX,sBAAsB,CAACC,SAAD,CAAtB,KAAsC,CAAtC,GACI,CAAE,KAAF,EAAS,iBAAT,EAA4B,SAA5B,CADJ,GAEI,CAAE,QAAF,EAAY,UAAZ,CAHN;AAKA,QAAMW,MAAM,GAAGb,YAAY,CAACc,UAAb,CAAwBZ,SAAxB,CAAf;;AAEA,MAAIW,MAAM,IAAIA,MAAM,CAACE,QAArB,EAA+B;AAC7B,WAAOF,MAAM,CAACE,QAAd;AACD;;AAED,SAAOH,QAAP;AACD,CAbD","sourcesContent":["const path = require(`path`)\nconst browserslist = require(`browserslist/node`)\n\nfunction installedGatsbyVersion(directory) {\n  try {\n    const { version } = require(path.join(\n      directory,\n      `node_modules`,\n      `gatsby`,\n      `package.json`\n    ))\n    return parseInt(version.split(`.`)[0], 10)\n  } catch (e) {\n    return undefined\n  }\n}\n\nmodule.exports = function getBrowsersList(directory) {\n  const fallback =\n    installedGatsbyVersion(directory) === 1\n      ? [`>1%`, `last 2 versions`, `IE >= 9`]\n      : [`>0.25%`, `not dead`]\n\n  const config = browserslist.findConfig(directory)\n\n  if (config && config.defaults) {\n    return config.defaults\n  }\n\n  return fallback\n}\n"],"file":"browserslist.js"}