{"version":3,"sources":["../../src/commands/build-javascript.js"],"names":["webpack","require","webpackConfig","reportWebpackWarnings","module","exports","program","parentSpan","directory","compilerConfig","Promise","resolve","reject","run","err","stats","hasErrors","compilation","errors"],"mappings":";;AACA,MAAMA,OAAO,GAAGC,OAAO,CAAE,SAAF,CAAvB;;AACA,MAAMC,aAAa,GAAGD,OAAO,CAAE,yBAAF,CAA7B;;AAEA,MAAM;AAAEE,EAAAA;AAAF,IAA4BF,OAAO,CAAE,8BAAF,CAAzC;;AAEAG,MAAM,CAACC,OAAP,GAAiB,OAAOC,OAAP,EAAgB;AAAEC,EAAAA;AAAF,CAAhB,KAAmC;AAClD,QAAM;AAAEC,IAAAA;AAAF,MAAgBF,OAAtB;AAEA,QAAMG,cAAc,GAAG,MAAMP,aAAa,CACxCI,OADwC,EAExCE,SAFwC,EAGvC,kBAHuC,EAIxC,IAJwC,EAKxC;AAAED,IAAAA;AAAF,GALwC,CAA1C;AAQA,SAAO,IAAIG,OAAJ,CAAY,CAACC,OAAD,EAAUC,MAAV,KAAqB;AACtCZ,IAAAA,OAAO,CAACS,cAAD,CAAP,CAAwBI,GAAxB,CAA4B,CAACC,GAAD,EAAMC,KAAN,KAAgB;AAC1C,UAAID,GAAJ,EAAS;AACPF,QAAAA,MAAM,CAACE,GAAD,CAAN;AACA;AACD;;AAEDX,MAAAA,qBAAqB,CAACY,KAAD,CAArB;;AAEA,UAAIA,KAAK,CAACC,SAAN,EAAJ,EAAuB;AACrBJ,QAAAA,MAAM,CAACG,KAAK,CAACE,WAAN,CAAkBC,MAAnB,CAAN;AACA;AACD;;AAEDP,MAAAA,OAAO,CAACI,KAAD,CAAP;AACD,KAdD;AAeD,GAhBM,CAAP;AAiBD,CA5BD","sourcesContent":["/* @flow */\nconst webpack = require(`webpack`)\nconst webpackConfig = require(`../utils/webpack.config`)\n\nconst { reportWebpackWarnings } = require(`../utils/webpack-error-utils`)\n\nmodule.exports = async (program, { parentSpan }) => {\n  const { directory } = program\n\n  const compilerConfig = await webpackConfig(\n    program,\n    directory,\n    `build-javascript`,\n    null,\n    { parentSpan }\n  )\n\n  return new Promise((resolve, reject) => {\n    webpack(compilerConfig).run((err, stats) => {\n      if (err) {\n        reject(err)\n        return\n      }\n\n      reportWebpackWarnings(stats)\n\n      if (stats.hasErrors()) {\n        reject(stats.compilation.errors)\n        return\n      }\n\n      resolve(stats)\n    })\n  })\n}\n"],"file":"build-javascript.js"}