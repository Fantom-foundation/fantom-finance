{"version":3,"sources":["../../src/commands/develop-static.js"],"names":["sysPath","require","express","parseUrl","module","exports","serveStatic","root","options","expressStatic","static","req","res","next","includes","method","path","pathname","parsedPath","parse","ext"],"mappings":";;AAAA,MAAMA,OAAO,GAAGC,OAAO,CAAE,MAAF,CAAvB;;AACA,MAAMC,OAAO,GAAGD,OAAO,CAAE,SAAF,CAAvB;;AACA,MAAME,QAAQ,GAAGF,OAAO,CAAE,UAAF,CAAxB;AAEA;;;;;;AAKAG,MAAM,CAACC,OAAP,GAAiBC,WAAjB;AAEA;;;;;;;AAOA,SAASA,WAAT,CAAqBC,IAArB,EAA2BC,OAA3B,EAAoC;AAClC,QAAMC,aAAa,GAAGP,OAAO,CAACQ,MAAR,CAAeH,IAAf,EAAqBC,OAArB,CAAtB;AAEA,SAAO,UAASG,GAAT,EAAcC,GAAd,EAAmBC,IAAnB,EAAyB;AAC9B,QAAI,CAAE,KAAF,EAAS,MAAT,EAAgBC,QAAhB,CAAyBH,GAAG,CAACI,MAA7B,CAAJ,EAA0C;AACxC,YAAMC,IAAI,GAAGb,QAAQ,CAACQ,GAAD,CAAR,CAAcM,QAA3B;AACA,YAAMC,UAAU,GAAGlB,OAAO,CAACmB,KAAR,CAAcH,IAAd,CAAnB;;AACA,UAAI,CAAE,MAAF,EAAU,OAAV,EAAkBF,QAAlB,CAA2BI,UAAU,CAACE,GAAtC,CAAJ,EAAgD;AAC9C,eAAOP,IAAI,EAAX;AACD;AACF;;AAED,WAAOJ,aAAa,CAACE,GAAD,EAAMC,GAAN,EAAWC,IAAX,CAApB;AACD,GAVD;AAWD","sourcesContent":["const sysPath = require(`path`)\nconst express = require(`express`)\nconst parseUrl = require(`parseurl`)\n\n/**\n * Module exports.\n * @public\n */\n\nmodule.exports = serveStatic\n\n/**\n * @param {string} root\n * @param {object} [options]\n * @return {function}\n * @public\n */\n\nfunction serveStatic(root, options) {\n  const expressStatic = express.static(root, options)\n\n  return function(req, res, next) {\n    if ([`GET`, `HEAD`].includes(req.method)) {\n      const path = parseUrl(req).pathname\n      const parsedPath = sysPath.parse(path)\n      if ([`.htm`, `.html`].includes(parsedPath.ext)) {\n        return next()\n      }\n    }\n\n    return expressStatic(req, res, next)\n  }\n}\n"],"file":"develop-static.js"}